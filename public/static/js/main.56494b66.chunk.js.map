{"version":3,"sources":["common/components/Box/Box.module.scss","common/components/Input/Input.module.scss","common/components/Header/Header.module.scss","common/components/Panel/Panel.module.scss","common/components/Link/Link.module.scss","common/components/Logo/Logo.module.scss","common/components/Button/Button.module.scss","pages/auth/RegisterPage/RegisterPage.module.scss","pages/home/HomePage/HomePage.module.scss","App.module.scss","common/assets/images/avatar.jpg","common/helpers/api.js","common/helpers/links.js","common/helpers/getCookie.js","common/hooks/useToggle.js","common/components/Box/Box.js","common/components/Link/Link.js","common/components/Logo/Logo.js","common/components/Panel/Panel.js","common/components/Input/Input.js","common/components/Button/Button.js","common/components/Header/Header.js","pages/auth/LoginPage/LoginPage.js","pages/auth/RegisterPage/RegisterPage.js","pages/auth/index.js","pages/home/HomePage/HomePage.js","pages/home/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","links","home","auth","authLogin","authRegister","api","authVK","authGoogle","authLogout","usersRegister","usersMe","usersAvatar","mapValues","link","getCookie","name","end","dc","document","cookie","prefix","begin","indexOf","length","decodeURI","substring","useToggle","initialState","useState","isActive","setIsActive","open","useCallback","close","toggle","allowedKeys","allowedSizes","Box","props","children","className","id","alignCenter","alignRight","alignLeft","onClick","center","inline","dataTestId","keys","rootClassName","cx","classes","Object","forEach","key","value","includes","console","error","push","s","getClasses","data-testid","Link","href","Logo","logo","Panel","title","p","panel","mt","Input","React","forwardRef","ref","type","touched","label","disabled","onChange","inputStyle","input","inputWrapper","errorText","Button","button","Header","user","setUser","username","setUsername","password","setPassword","togglePanel","isPanelOpened","header","ml","wrapper","logInWrapper","mr","fetch","mode","withCredentials","credentials","headers","then","panelWrapper","e","target","panelButton","a","async","method","body","JSON","stringify","response","json","result","log","LoginPage","withRouter","history","registerWrapper","Auth","exact","path","component","render","HomePage","require","srcState","setSrcState","undefined","image","setImage","imgInput","createRef","uploadFile","file","signedRequest","url","xhr","XMLHttpRequest","onreadystatechange","readyState","status","alert","send","openUploadDialog","current","click","uploadImage","FormData","append","parse","responseText","getSignedRequest","avatar","src","reader","FileReader","files","readAsDataURL","onload","URL","createObjectURL","onAvatarChange","match","to","App","useEffect","fetchUser","data","main","Home","Boolean","window","location","hostname","config","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.56494b66.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"alignCenter\":\"Box_alignCenter__27XjQ\",\"alignRight\":\"Box_alignRight__1hxpN\",\"alignLeft\":\"Box_alignLeft__396-L\",\"center\":\"Box_center__23n8h\",\"inline\":\"Box_inline__TO5lE\",\"p_xxs\":\"Box_p_xxs__2BXML\",\"p_xs\":\"Box_p_xs__19zNE\",\"p_xsm\":\"Box_p_xsm__2QHof\",\"p_sm\":\"Box_p_sm__VI5RM\",\"p_md\":\"Box_p_md__1rIs6\",\"p_lg\":\"Box_p_lg__1wz6X\",\"p_xlg\":\"Box_p_xlg__25LBw\",\"p_xxl\":\"Box_p_xxl__2wzBd\",\"p_xxxl\":\"Box_p_xxxl__3wXUJ\",\"pt_xxs\":\"Box_pt_xxs__32bbR\",\"pt_xs\":\"Box_pt_xs__26qbd\",\"pt_xsm\":\"Box_pt_xsm__1z43f\",\"pt_sm\":\"Box_pt_sm__37g7e\",\"pt_md\":\"Box_pt_md__3dWAX\",\"pt_lg\":\"Box_pt_lg__3nd36\",\"pt_xlg\":\"Box_pt_xlg__3sBrQ\",\"pt_xxl\":\"Box_pt_xxl__myjex\",\"pt_xxxl\":\"Box_pt_xxxl__1zuxH\",\"pb_xxs\":\"Box_pb_xxs__1aZEU\",\"pb_xs\":\"Box_pb_xs__1fWdh\",\"pb_xsm\":\"Box_pb_xsm__LntZZ\",\"pb_sm\":\"Box_pb_sm__19Lj8\",\"pb_md\":\"Box_pb_md__1VGDL\",\"pb_lg\":\"Box_pb_lg__3dDkQ\",\"pb_xlg\":\"Box_pb_xlg__3PX5x\",\"pb_xxl\":\"Box_pb_xxl__1bynD\",\"pb_xxxl\":\"Box_pb_xxxl__3zkTw\",\"pr_xxs\":\"Box_pr_xxs__27o9t\",\"pr_xs\":\"Box_pr_xs__3V7HH\",\"pr_xsm\":\"Box_pr_xsm__27_dQ\",\"pr_sm\":\"Box_pr_sm__ZMTpv\",\"pr_md\":\"Box_pr_md__3hggj\",\"pr_lg\":\"Box_pr_lg__1O_sz\",\"pr_xlg\":\"Box_pr_xlg__17GHy\",\"pr_xxl\":\"Box_pr_xxl__yzHWP\",\"pr_xxxl\":\"Box_pr_xxxl__2qBS2\",\"pl_xxs\":\"Box_pl_xxs__3hUN7\",\"pl_xs\":\"Box_pl_xs__1Cyq6\",\"pl_xsm\":\"Box_pl_xsm__1gjVN\",\"pl_sm\":\"Box_pl_sm__3inal\",\"pl_md\":\"Box_pl_md__d706K\",\"pl_lg\":\"Box_pl_lg__39jB0\",\"pl_xlg\":\"Box_pl_xlg__8uwPg\",\"pl_xxl\":\"Box_pl_xxl__2iA7_\",\"pl_xxxl\":\"Box_pl_xxxl__9xKNI\",\"m_xxs\":\"Box_m_xxs__1xxju\",\"m_xs\":\"Box_m_xs__3wFgs\",\"m_xsm\":\"Box_m_xsm__3o74Y\",\"m_sm\":\"Box_m_sm__28j1I\",\"m_md\":\"Box_m_md__3VttI\",\"m_lg\":\"Box_m_lg__3AcWW\",\"m_xlg\":\"Box_m_xlg__3sZuw\",\"m_xxl\":\"Box_m_xxl__2aJf4\",\"m_xxxl\":\"Box_m_xxxl__2N5tK\",\"mt_xxs\":\"Box_mt_xxs__1aA2d\",\"mt_xs\":\"Box_mt_xs__2wxjR\",\"mt_xsm\":\"Box_mt_xsm__2de-4\",\"mt_sm\":\"Box_mt_sm__3-Pct\",\"mt_md\":\"Box_mt_md__2yYaO\",\"mt_lg\":\"Box_mt_lg__1cnXX\",\"mt_xlg\":\"Box_mt_xlg__YNncI\",\"mt_xxl\":\"Box_mt_xxl__2hmNE\",\"mt_xxxl\":\"Box_mt_xxxl__2F4IK\",\"mb_xxs\":\"Box_mb_xxs__LZo14\",\"mb_xs\":\"Box_mb_xs__rR0r6\",\"mb_xsm\":\"Box_mb_xsm__OrweP\",\"mb_sm\":\"Box_mb_sm__3o9ty\",\"mb_md\":\"Box_mb_md__1wE_G\",\"mb_lg\":\"Box_mb_lg__3lU_K\",\"mb_xlg\":\"Box_mb_xlg__6Xni7\",\"mb_xxl\":\"Box_mb_xxl__y0-kN\",\"mb_xxxl\":\"Box_mb_xxxl__3-yeq\",\"mr_xxs\":\"Box_mr_xxs__35tDo\",\"mr_xs\":\"Box_mr_xs__MOFGR\",\"mr_xsm\":\"Box_mr_xsm__1a1sf\",\"mr_sm\":\"Box_mr_sm__m91Sh\",\"mr_md\":\"Box_mr_md__wLE-g\",\"mr_lg\":\"Box_mr_lg__2jSsP\",\"mr_xlg\":\"Box_mr_xlg__3YM5N\",\"mr_xxl\":\"Box_mr_xxl__1AfZK\",\"mr_xxxl\":\"Box_mr_xxxl__2SBTk\",\"ml_xxs\":\"Box_ml_xxs__1qw3e\",\"ml_xs\":\"Box_ml_xs__1fO6C\",\"ml_xsm\":\"Box_ml_xsm__1IlWF\",\"ml_sm\":\"Box_ml_sm__3kK3R\",\"ml_md\":\"Box_ml_md__3zZRH\",\"ml_lg\":\"Box_ml_lg__3d-_o\",\"ml_xlg\":\"Box_ml_xlg__2XF1y\",\"ml_xxl\":\"Box_ml_xxl__3L2qA\",\"ml_xxxl\":\"Box_ml_xxxl__1oA1F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"Input_inputWrapper__2y4HX\",\"input\":\"Input_input__1G7Da\",\"error\":\"Input_error__167xo\",\"disabled\":\"Input_disabled__1iFpG\",\"label\":\"Input_label__3QRxf\",\"errorText\":\"Input_errorText__1yHqc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1X_E4\",\"wrapper\":\"Header_wrapper__2SSyc\",\"logInWrapper\":\"Header_logInWrapper__14RfS\",\"panelWrapper\":\"Header_panelWrapper__2TxSz\",\"panel\":\"Header_panel__ztBUa\",\"panelButton\":\"Header_panelButton__2s159\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__g1VzZ\",\"title\":\"Panel_title__1H6IK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Link_link__1lgHq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__1NyJz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1PA_U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerWrapper\":\"RegisterPage_registerWrapper__3thwf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"HomePage_avatar__yfWoK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__uN9ca\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.2dea3bd4.jpg\";","import { mapValues } from 'lodash'\n\n\n// const base = 'http://localhost:4000/api/'\n// const base = (process.env.REACT_APP_API_URL || 'http://localhost:4000') + '/api/'\nconst base = (process.env.REACT_APP_API_URL || 'http://localhost:4000') + '/api/'\n\nconst createLinks = (links) => mapValues(links, ((link) => `${base}${link}`))\n\nconst api = createLinks({\n    authLogin: 'auth/login',\n    authVK: 'auth/vkontakte',\n    authGoogle: 'auth/google',\n    authLogout: 'auth/logout',\n    usersRegister: 'users/register',\n    usersMe: 'users/me',\n    usersAvatar: 'users/avatar'\n})\n\nexport default api","const links = {\n    home: '/',\n    auth: '/auth',\n    authLogin: '/auth/login',\n    authRegister: '/auth/register'\n}\n\nexport default links","const getCookie = (name) => {\n    let end\n    const dc = document.cookie\n    const prefix = name + \"=\"\n    let begin = dc.indexOf(\"; \" + prefix)\n    if (begin === -1) {\n        begin = dc.indexOf(prefix)\n        if (begin !== 0) return null\n    }\n    else\n    {\n        begin += 2\n        end = document.cookie.indexOf(\";\", begin)\n        if (end === -1) {\n            end = dc.length\n        }\n    }\n\n    return decodeURI(dc.substring(begin + prefix.length, end))\n}\n\nexport default getCookie","import { useState, useCallback } from 'react'\n\n\nconst useToggle = (initialState = false) => {\n  const [ isActive, setIsActive ] = useState(initialState)\n\n  const open    = useCallback(() => setIsActive(true), [])\n  const close   = useCallback(() => setIsActive(false), [])\n  const toggle  = useCallback(() => setIsActive(!isActive), [ isActive ])\n\n  return { open, close, isActive, toggle }\n}\n\n\nexport default useToggle\n","import React from 'react'\nimport cx from 'classnames'\n\nimport s from './Box.module.scss'\n\n\nconst allowedKeys = ['m', 'mt', 'mr', 'mb', 'ml', 'p', 'pt', 'pr', 'pb', 'pl']\nconst allowedSizes = ['xxs', 'xs', 'xsm', 'sm', 'md', 'lg', 'xlg', 'xxl', 'xxxl']\n\nconst getClasses = (keys) => {\n  const classes = []\n  Object.keys(keys).forEach((key) => {\n    const value = keys[key]\n    if (!value) {\n      return\n    }\n    if (!allowedKeys.includes(key)) {\n      console.error(`Wrong \"key\" – ${key} passed to Box component`)\n    }\n    if (!allowedSizes.includes(value)) {\n      console.error(`Wrong \"value\" – ${value} passed for key \"${key}\" to Box component`)\n    }\n    classes.push(s[`${key}_${value}`])\n  })\n  return classes\n}\n\nconst Box = (props) => {\n  const {\n    children, className, id, alignCenter, alignRight, alignLeft, onClick,\n    center, inline, dataTestId, ...keys\n  } = props\n\n  const rootClassName = cx(className, ...getClasses(keys), {\n    [s.center]: center,\n    [s.inline]: inline,\n    [s.alignCenter]: alignCenter,\n    [s.alignRight]: alignRight,\n    [s.alignLeft]: alignLeft,\n  })\n\n  return (\n    <div className={rootClassName} id={id} data-testid={dataTestId} onClick={onClick}>\n      {children}\n    </div>\n  )\n}\n\n\nexport default Box\n","import React from 'react'\n\nimport s from './Link.module.scss'\n\n\nconst Link = (props) => {\n\n    const {\n       href,\n       children,\n       onClick\n    } = props\n\n    return (\n        <a href={href} onClick={onClick} className={s.link}>{children}</a>\n    )\n}\n\nexport default Link","import React from 'react'\n\nimport s from './Logo.module.scss'\n\n\nconst Logo = () => {\n    return (\n        <span className={s.logo}>bookz</span>\n    )\n}\n\nexport default Logo","import React from 'react'\nimport cx from 'classnames'\n\nimport Box from '../Box/Box'\n\nimport s from './Panel.module.scss'\n\n\nconst Panel = (props) => {\n\n    const {\n        title,\n        children,\n        className,\n    } = props\n\n    return (\n        <Box p=\"sm\" className={cx(s.panel, className)}>\n            <p className={s.title}>{title}</p>\n            <Box mt=\"xsm\">{children}</Box>\n        </Box>\n    )\n}\n\nexport default Panel","import React from 'react'\nimport cx from 'classnames'\n\nimport s from './Input.module.scss'\n\n\nconst Input = React.forwardRef((props, ref) => {\n\n    const {\n        value,\n        type,\n        name,\n        error,\n        touched,\n        label,\n        disabled,\n        onChange\n    } = props\n\n    const inputStyle = cx(s.input, {\n        [s.error]: touched && error,\n        [s.disabled]: disabled\n    })\n\n    return (\n        <div className={s.inputWrapper}>\n            {\n                label && <label className={s.label}>{label}</label>\n            }\n            <input ref={ref} type={type} name={name} value={value} className={inputStyle} disabled={disabled} onChange={onChange} />\n            {\n                touched && error && <p className={s.errorText}>{error}</p>\n            }\n        </div>\n    )\n})\n\nexport default Input\n","import React from 'react'\n\nimport s from './Button.module.scss'\n\n\nconst Button = (props) => {\n    const {\n        onClick,\n        children\n    } = props\n\n    return <button className={s.button} onClick={onClick}>{children}</button>\n}\n\nexport default Button","import React, { Fragment, useState } from 'react'\nimport { useToggle } from '../../hooks'\n\nimport Box from '../Box/Box'\nimport Link from '../Link/Link'\nimport Logo from '../Logo/Logo'\nimport Panel from '../Panel/Panel'\nimport Input from '../Input/Input'\nimport Button from '../Button/Button'\n\nimport api from '../../helpers/api'\nimport links from '../../helpers/links'\n\nimport s from './Header.module.scss'\n\n\nconst Header = (props) => {\n\n    const {\n        user,\n        setUser\n    } = props\n\n    const [ username, setUsername ] = useState('')\n    const [ password, setPassword ] = useState('')\n    const { toggle: togglePanel, close: closePanel, isActive: isPanelOpened } = useToggle(false)\n\n    const login = async () => {\n        let response = await fetch(api.authLogin, {\n            method: 'POST',\n            mode: 'cors',\n            withCredentials: true,\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        })\n\n        let result = await response.json()\n        console.log(result)\n        setUser(result)\n    }\n\n    const logout = () => {\n        fetch(api.authLogout, {\n            mode: 'cors',\n            withCredentials: true,\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n        })\n            .then(() => setUser(null))\n    }\n\n\n    return (\n        <Fragment>\n            <div className={s.header}>\n                <Box mt=\"xxs\" ml=\"md\" className={s.wrapper}>\n                    <Logo />\n\n                    {\n                        !user\n                        && (\n                            <div className={s.logInWrapper}>\n                                <Box mt=\"xsm\" mr=\"sm\">\n                                    <Link onClick={togglePanel}>Войти</Link>\n                                </Box>\n                                <Box mt=\"xsm\" mr=\"sm\">\n                                    <Link href={links.authRegister}>Зарегистрироваться</Link>\n                                </Box>\n                            </div>\n                        )\n                    }\n                    {\n                        user\n                        && (\n                            <Fragment>\n                                {user.username}\n                                <Link onClick={logout}>Выйти</Link>\n                            </Fragment>\n                        )\n                    }\n                </Box>\n            </div>\n            {\n                !user && isPanelOpened\n                && (\n                    <Box mt=\"lg\" mr=\"xlg\" className={s.panelWrapper}>\n                        <Panel\n                            title=\"Вход в систему\"\n                            className={s.panel}\n                        >\n                            <Input label=\"Логин\" value={username} onChange={(e) => setUsername(e.target.value)} />\n                            <Box mt=\"xs\">\n                                <Input label=\"Пароль\" value={password} onChange={(e) => setPassword(e.target.value)} />\n                            </Box>\n                            <Box mt=\"xs\" className={s.panelButton}>\n                                <Button onClick={login}>Вход</Button>\n                                <a href={api.authVK}>VK</a>\n                                <a href={api.authGoogle}>Google</a>\n                            </Box>\n                        </Panel>\n                    </Box>\n                )\n            }\n        </Fragment>\n    )\n}\n\nexport default Header","import React, { Fragment, useState } from 'react'\n\nimport Input from '../../../common/components/Input/Input'\nimport Button from '../../../common/components/Button/Button'\n\nimport api from '../../../common/helpers/api'\n\n\nconst LoginPage = () => {\n\n    const [ username, setUsername ] = useState('')\n    const [ password, setPassword ] = useState('')\n\n    const submit = async () => {\n        let response = await fetch(api.authLogin, {\n            method: 'POST',\n            mode: 'cors',\n            withCredentials: true,\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        })\n\n        let result = await response.json()\n        console.log(result)\n    }\n\n    const test = async () => {\n        let response = await fetch('http://localhost:4000/api/auth/dashboard', {\n            withCredentials: true,\n            credentials: 'include',\n        })\n\n        let result = await response.json()\n        console.log(result)\n    }\n\n    const logout = async () => {\n        let response = await fetch(api.authLogout, {\n            mode: 'cors',\n            withCredentials: true,\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n        })\n\n        let result = await response.json()\n        console.log(result)\n    }\n\n    return (\n        <Fragment>\n            <Input label=\"Логин\" value={username} onChange={(e) => setUsername(e.target.value)} />\n            <Input label=\"Пароль\" value={password} onChange={(e) => setPassword(e.target.value)} />\n            <Button onClick={submit}>Вход</Button>\n            <Button onClick={test}>test</Button>\n            <Button onClick={logout}>logout</Button>\n        </Fragment>\n    )\n}\n\nexport default LoginPage","import React, { Fragment, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Input from '../../../common/components/Input/Input'\nimport Box from '../../../common/components/Box/Box'\nimport Button from '../../../common/components/Button/Button'\n\nimport api from '../../../common/helpers/api'\nimport links from '../../../common/helpers/links'\n\nimport s from './RegisterPage.module.scss'\n\n\nconst RegisterPage = (props) => {\n\n    const {\n        history,\n        setUser\n    } = props\n\n    const [ username, setUsername ] = useState('')\n    const [ password, setPassword ] = useState('')\n\n    const submit = async () => {\n        let response = await fetch(api.usersRegister, {\n            method: 'POST',\n            mode: 'cors',\n            withCredentials: true,\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        })\n\n        let result = await response.json()\n        console.log(result)\n        setUser(result)\n        history.push(links.home)\n    }\n\n    return(\n        <Fragment>\n            <Box mt=\"xxxl\" className={s.registerWrapper}>\n                <Input label=\"Логин\" value={username} onChange={(e) => setUsername(e.target.value)} />\n                <Box mt=\"xs\">\n                    <Input label=\"Пароль\" value={password} onChange={(e) => setPassword(e.target.value)} />\n                </Box>\n                <Box mt=\"xs\">\n                    <Button onClick={submit}>Зарегистрироваться</Button>\n                </Box>\n            </Box>\n        </Fragment>\n    )\n}\n\nexport default withRouter(RegisterPage)","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport links from '../../common/helpers/links'\n\nimport LoginPage from './LoginPage/LoginPage'\nimport RegisterPage from './RegisterPage/RegisterPage'\n\n\nconst Auth = (props) => {\n\n    const { setUser } = props\n\n    return (\n        <Switch>\n            <Route exact path={links.authLogin} component={LoginPage} />\n            <Route exact path={links.authRegister} render={(props) => <RegisterPage setUser={setUser} {...props} />} />\n        </Switch>\n    )\n}\n\nexport default Auth","import React, { Fragment, useState } from 'react'\n\nimport Button from '../../../common/components/Button/Button'\nimport Input from '../../../common/components/Input/Input'\n\nimport api from '../../../common/helpers/api'\n\nimport s from './HomePage.module.scss'\n\n\nconst HomePage = () => {\n\n    const [srcState, setSrcState] = useState(require('../../../common/assets/images/avatar.jpg'))\n    const [image, setImage] = useState(undefined)\n\n    let imgInput = React.createRef()\n\n    const getSignedRequest = (file) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', `${api.usersAvatar}?file-name=${file.name}&file-type=${file.type}`);\n        xhr.onreadystatechange = () => {\n            if(xhr.readyState === 4){\n                if(xhr.status === 200){\n                    const response = JSON.parse(xhr.responseText);\n                    uploadFile(file, response.signedRequest, response.url);\n                }\n                else{\n                    alert('Could not get signed URL.');\n                }\n            }\n        };\n        xhr.send();\n    }\n\n    const uploadFile = (file, signedRequest, url) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('PUT', signedRequest);\n        xhr.onreadystatechange = () => {\n            console.log('xhr', xhr)\n            if(xhr.readyState === 4){\n                if(xhr.status === 200){\n                    setSrcState(url)\n                }\n                else{\n                    alert('Could not upload file.');\n                }\n            }\n        };\n        xhr.send(file);\n    }\n\n    const openUploadDialog = () => {\n        imgInput.current.click()\n    }\n\n    const onAvatarChange = (e) => {\n        const reader = new FileReader()\n\n        if (e.target.files && e.target.files.length > 0) {\n            const file = e.target.files[0]\n            setImage(file)\n            reader.readAsDataURL(file)\n            reader.onload = () => {\n                setSrcState(URL.createObjectURL(file))\n            }\n        }\n    }\n\n    const uploadImage = () => {\n        const data = new FormData()\n        data.append('file', image)\n\n        getSignedRequest(image)\n    }\n\n    return(\n        <Fragment>\n            <img className={s.avatar} src={srcState} onClick={openUploadDialog}/>\n            <Button onClick={(e) => openUploadDialog(e)}>Выбрать аватар</Button>\n            <Input ref={imgInput} type=\"file\" label=\"Выберите изображение\" name=\"avatar\" onChange={(e) => onAvatarChange(e)} />\n            <Button onClick={(e) => uploadImage(e)}>Загрузить аватар</Button>\n        </Fragment>\n    )\n}\n\nexport default HomePage","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\n\nimport links from '../../common/helpers/links'\n\nimport HomePage from './HomePage/HomePage'\n\n\nconst Auth = (props) => {\n    const { match: { url } } = props\n\n    return (\n        <Switch>\n            <Route exact path={url} component={HomePage} />\n            <Redirect to={url} />\n        </Switch>\n    )\n}\n\nexport default Auth","import React, { Fragment, useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport links from './common/helpers/links'\nimport api from './common/helpers/api'\nimport { getCookie } from './common/helpers'\n\nimport Header from './common/components/Header/Header'\nimport Auth from './pages/auth'\nimport Home from './pages/home'\n\nimport s from './App.module.scss'\n\n\nconst App = () => {\n\n    const [ user, setUser ] = useState(null)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            let response = await fetch(api.usersMe, {\n                withCredentials: true,\n                credentials: 'include',\n            })\n\n            if (response.status === 403) {\n                return null\n            }\n\n            return await response.json()\n        }\n\n        if (getCookie('connect.sid')) {\n            fetchUser()\n                .then((data) => setUser(data))\n        }\n    }, [])\n\n  return (\n    <Fragment>\n        <Header user={user} setUser={setUser} />\n\n        <div className={s.main}>\n            <Router>\n                <Switch>\n                    <Route path={links.auth} render={(props) => <Auth setUser={setUser} {...props} /> } />\n                    <Route path={links.home} component={Home} />\n                </Switch>\n            </Router>\n        </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport './common/styles/fonts.scss'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nrequire('dotenv').config()\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}